{% extends 'ecom/customer_base.html' %}
{% load static %}
{% block content %}

<style media="screen">
    body,
    html {
        height: 100%;
    }

    .d-flex {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
    }

    .align-center {
        -webkit-box-align: center;
        -ms-flex-align: center;
        align-items: center;
    }

    .flex-centerY-centerX {
        justify-content: center;
        -webkit-box-pack: center;
        -ms-flex-pack: center;
        justify-content: center;
        -webkit-box-align: center;
        -ms-flex-align: center;
        align-items: center;
    }

    body {
        background-color: #f7f7f7;
    }

    .page-wrapper {
        height: 100%;
        display: table;
    }

    .page-wrapper .page-inner {
        display: table-cell;
        vertical-align: middle;
    }

    .el-wrapper {
        width: 360px;
        padding: 15px;
        margin: 15px auto;
        background-color: #fff;
        border-radius: 15px;
    }

    @media (max-width: 991px) {
        .el-wrapper {
            width: 345px;
        }
    }

    @media (max-width: 767px) {
        .el-wrapper {
            width: 290px;
            margin: 30px auto;
        }
    }

    .el-wrapper:hover .h-bg {
        left: 0px;
    }

    .el-wrapper:hover .price {
        left: 20px;
        transform: translateY(-50%);
        color: #f3f3f3;
    }

    .el-wrapper:hover .add-to-cart {
        left: 50%;
    }

    .el-wrapper:hover .img {
        filter: blur(7px);
        opacity: 0.4;
    }

    .el-wrapper:hover .info-inner {
        bottom: 155px;
    }

    .el-wrapper:hover .a-size {
        transition-delay: 300ms;
        bottom: 50px;
        opacity: 1;
    }

    .el-wrapper .box-down {
        width: 100%;
        height: 60px;
        position: relative;
        overflow: hidden;
    }

    .el-wrapper .box-up {
        width: 100%;
        height: 300px;
        position: relative;
        overflow: hidden;
        text-align: center;
    }

    .el-wrapper .img {
        padding: 20px 0;
        transition: all 800ms cubic-bezier(0, 0, 0.18, 1);
    }

    .h-bg {
        transition: all 800ms cubic-bezier(0, 0, 0.18, 1);
        width: 660px;
        height: 100%;
        background-color: #3fcd7f;
        position: absolute;
        left: -659px;
    }

    .h-bg .h-bg-inner {
        width: 50%;
        height: 100%;
        background-color: #464646;
    }

    .info-inner {
        transition: all 400ms cubic-bezier(0, 0, 0.18, 1);
        position: absolute;
        width: 100%;
        bottom: 10px;
    }

    .info-inner .p-name,
    .info-inner .p-company {
        display: block;
    }

    .info-inner .p-name {
        font-family: 'PT Sans', sans-serif;
        font-size: 18px;
        color: #252525;
    }

    .info-inner .p-company {
        font-family: 'Lato', sans-serif;
        font-size: 16px;
        color: #fbfbfb;
    }

    .a-size {
        transition: all 300ms cubic-bezier(0, 0, 0.18, 1);
        position: absolute;
        width: 100%;
        bottom: -20px;
        font-family: 'PT Sans', sans-serif;
        color: #2b2b2b;
        font-weight: 600;
        opacity: 0;
    }

    .a-size .size {
        color: #252525;
    }

    .cart {
        display: block;
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        font-weight: 700;
    }

    .cart .price {
        transition: all 600ms cubic-bezier(0, 0, 0.18, 1);
        display: block;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 16px;
        color: #252525;
    }

    .cart .add-to-cart {
        transition: all 600ms cubic-bezier(0, 0, 0.18, 1);
        display: block;
        position: absolute;
        top: 50%;
        left: 110%;
        transform: translate(-50%, -50%);
    }

    .cart .add-to-cart .txt {
        font-size: 12px;
        color: #fff;
        letter-spacing: 0.045em;
        text-transform: uppercase;
        white-space: nowrap;
    }

    * {
        box-sizing: border-box;
    }

    /* Create three equal columns that floats next to each other */
    .column {
        float: left;
        width: 33.33%;
        padding: 10px;
    }

    /* Clear floats after the columns */
    .row:after {
        content: "";
        display: table;
        clear: both;
    }

    /* Responsive layout - makes the three columns stack on top of each other instead of next to each other */
    @media screen and (max-width: 600px) {
        .column {
            width: 100%;
        }
    }

    img {
        max-width: 100%;
    }

    .slider-container {
        height: 35%;
        width: 100%;
        position: relative;
        overflow: hidden;
        text-align: center;
    }

    .menu {
        position: absolute;
        left: 0;
        z-index: 900;
        width: 100%;
        bottom: 0;
    }

    .menu label {
        cursor: pointer;
        display: inline-block;
        width: 16px;
        height: 16px;
        background: #fff;
        border-radius: 50px;
        margin: 0 .2em 1em;
    }

    .slide {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 100%;
        z-index: 10;
        padding: 8em 1em 0;
        background-size: cover;
        background-position: 50% 50%;
        transition: left 0s .75s;
    }

    [id^="slide"]:checked + .slide {
        left: 0;
        z-index: 100;
        transition: left .65s ease-out;
    }

    .slide-1 {
        background-image: url("{% static 'images/ecom-banner1.jpg' %}");
    }

    .slide-2 {
        background-image: url("{% static 'images/ecom-banner4.jpg' %}");
    }

    .slide-3 {
        background-image: url("{% static 'images/ecom-banner1.png' %}");
    }

    .slide-4 {
        background-image: url("{% static 'images/ecom-banner3.jpg' %}");
    }
</style>

<div class="row">
    <div class="col-md-12">
        <div class="slider-container">
            <div class="menu">
                <label for="slide-dot-1"></label>
                <label for="slide-dot-2"></label>
                <label for="slide-dot-3"></label>
                <label for="slide-dot-4"></label>
            </div>

            <input id="slide-dot-1" type="radio" name="slides" checked>
            <div class="slide slide-1"></div>

            <input id="slide-dot-2" type="radio" name="slides">
            <div class="slide slide-2"></div>

            <input id="slide-dot-3" type="radio" name="slides">
            <div class="slide slide-3"></div>

            <input id="slide-dot-4" type="radio" name="slides">
            <div class="slide slide-4"></div>
        </div>
    </div>
</div>


<div class="category-filter" style="text-align: center; margin: 20px 0; padding: 10px; background-color: #f8f9fa; border-radius: 10px;">
    <h3 style="margin-bottom: 10px; font-size: 18px; color: #333;">Filter by Category</h3>
    
<a href="{% url 'location-page' %}" style="display: inline-block; padding: 10px 15px; background-color: red; color: white; text-decoration: none; border-radius: 5px;">Weather Location</a>


    <a href="{% url 'customer-home' %}" style="text-decoration: none; color: #007bff; font-weight: bold; margin: 5px; padding: 5px 10px; border-radius: 5px; border: 1px solid #007bff; display: inline-block;">All</a>
    {% for cat in categories %}
        <a href="{% url 'customer-home' %}?category={{ cat }}" 
           style="text-decoration: none; color: #007bff; font-weight: bold; margin: 5px; padding: 5px 10px; border-radius: 5px; border: 1px solid #007bff; display: inline-block;">
            {{ cat }}
        </a>
    {% endfor %}
</div>

{% if products %}
<h3 style="text-align: center;">Featured Products</h3>
<div class="row" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px;">
    {% for p in products %}
      <!-- card1 -->
      <div class="column" style="flex: 1 1 calc(33.33% - 20px); max-width: 360px;">
      <div class="container page-wrapper" style="width: 100%;">
        <div class="page-inner">
          <div class="el-wrapper">
            <div class="box-up">
              
              <img class="img" src="{% static p.product_image.url %}" alt="product pic" style="height: 250px; width: 100%; object-fit: cover; border-radius: 10px;">
              
              <div class="img-info">
                <div class="info-inner">
                  <span class="p-company" style="background-color:#3e454c; color:#fbfbfb; display: block; padding: 5px; border-radius: 5px;">{{p.name}}</span>
                </div>
                <div class="a-size" style="min-height: 40px;">{{p.description}}</div>
              </div>
            </div>

            <div class="box-down">
              <div class="h-bg">
                <div class="h-bg-inner"></div>
              </div>

              <a class="cart" href="{% url 'add-to-cart' p.id  %}" style="display: flex; align-items: center; justify-content: space-between; padding: 10px; text-decoration: none; background: #007bff; color: white; border-radius: 5px;">
                <span class="price">${{p.price}}</span>
                <span class="add-to-cart">
                  <span class="txt"><i class="fa fa-shopping-cart"></i> Add To Cart</span>
                </span>
              </a>
            </div>
          </div>
        </div>
      </div>
      </div>
      <!-- card1 end -->
    {% endfor %}
</div>
{% else %}
<h3 style="text-align: center;">No products available</h3>
{% endif %}


{% endblock %}

